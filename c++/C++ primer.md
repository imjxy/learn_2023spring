# C++ primer

## 6 函数

局部静态对象：将局部对象定义为static类型，生命周期可以贯穿函数调用及之后的时间

分离式编译：编译过程？

**c++程序编译过程**

+ 编译：把文本形式的源代码翻译成机器语言，并形成目标文件
  
  + 先进行预编译处理。预处理又称为预编译，是做些代码文本替换工作。编译器执行预处理指令（以#开头，例如#include），这个过程会得到不包含#指令的.i文件。这个过程会拷贝#include 包含的文件代码，进行#define 宏定义的替换 ， 处理条件编译指令 （#ifndef #ifdef #endif）等。
  
  + 编译优化。通过预编译输出的.i文件中，只有常量：数字、字符串、变量的定义，以及c语言的关键字：main、if、else、for、while等。这阶段要做的工作主要是，通过语法分析和词法分析，确定所有指令是否符合规则，之后翻译成汇编代码。
    
    这个过程将.i文件转化位.s文件。
  
  + 汇编。汇编过程就是把汇编语言翻译成目标机器指令的过程，生成目标文件（.obj .o等）。目标文件中存放的也就是与源程序等效的目标的机器语言代码。

+ 链接：把目标文件、操作系统的启动代码和库文件组织起来形成可执行程序



多使用引用参数避免拷贝参数，如string一类的大的类类型对象或容器对象，或是无序对内容进行修改的



```cpp
int *matrix[10];//10个指针构成的数组
int (*matrix)[10];//指向含有十个整数的数组的指针
```

当给main用argv传递参数时：

```cpp
int main(int argc,char* argv[]){

}
```

可选的实参从argv[1]开始

可变形参

+ initializer_list，一种标准库类型 

+ 省略符形参，形参最后一个位置...



```cpp
typedef std::string::size_type pos;
等价于
using pos=std::string::size_type;
```
